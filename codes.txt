Start

//--> Xpath
declare namespace soap ='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://tempuri.org/';
 
//ns1:AddResult

//-->Script Assertion
//-->Code 1
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def holder =groovyUtils.getXmlHolder(messageExchange.responseContent)
 
holder.namespace["ns1"] = "http://tempuri.org/"
 
def addResult = holdr.getNodavalue("ns1:AddResult")
 
log.info "Result is :" + addResult
 
if(addResult=="48")
{
    log.info "Pass"
}
else
{
    log.info "Fail"
}

//-->Code 2
import com.eviware.soapui.support.XmlHolder
def holder =new XmlHolder(messageExchange.getResponseContentAsXml())

holder.declareNamespace("ns1", "http://tempuri.org/")
 
def addResult = holder.getNodeValue("//ns1:AddResult")
 
log.info "Result is :" + addResult
 
if(addResult=="13")
{
    log.info "Pass"
}
else
{
    log.info "Fail"
}

//-->Code 3
import com.eviware.soapui.support.XmlHolder

respXmlHolder = new XmlHolder(messageExchange.getResponseContentAsXml())
respXmlHolder.declareNamespace("ns1","http://tempuri.org/")
CDATAXml = respXmlHolder.getNodeValue("//ns1:AddResult")
log.info "Result is :" + CDATAXml
if(CDATAXml=="48.0")
{
log.info "Pass"
}
else
{
log.info "Fail"
}

//-->Code 4
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def holder =groovyUtils.getXmlHolder(messageExchange.responseContent)

holder.declareNamespace("ns1", "http://tempuri.org/")
 
def addResult = holder.getNodeValue("//ns1:AddResult")
 
log.info "Result is :" + addResult
 
if(addResult=="13")
{
    log.info "Pass"
}
else
{
    log.info "Fail"
}
